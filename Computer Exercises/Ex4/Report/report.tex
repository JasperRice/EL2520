\documentclass[11pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
% \usepackage[demo]{graphicx}

\title{
	Computer Exercise 4\\
	EL2520 Control Theory and Practice
}
\author{
	Jiaqi Li\\
	jiaqli@kth.se\\
	960326-1711
	\and
	Sifan Jiang\\
	sifanj@kth.se\\
	961220-8232
}

\newcommand{\image}[3]{
	\begin{figure}[!ht]
		\centering
	    \includegraphics[width=#1\textwidth]{#2}
		\caption{#3}
		\label{fig:#2}
	\end{figure}
}

% My packages
\usepackage{algorithm, algorithmic, listings} % Code
\usepackage{amsmath, amstext, amssymb, amsfonts, amsthm, dsfont, cancel, gensymb, mathtools, textcomp} % Math
\usepackage{color, xcolor} % Color
\usepackage{diagbox, tabularx} % Table
\usepackage{enumerate} % List
\usepackage{epsfig, epstopdf, graphicx, multicol, multirow, palatino, pgfplots, subcaption, tikz} % Image.
\usepackage{fancybox}
\usepackage{verbatim}

\usepackage[font=footnotesize]{caption} % labelfont=bf
\usepackage[font=scriptsize]{subcaption} % labelfont=bf
\usepackage[margin=1in]{geometry}
\usepackage[hidelinks]{hyperref}
\epstopdfsetup{outdir=./Figure/Converted/}
\graphicspath{{./Figure/}}

\makeatletter
\def\input@path{{./Figure/}}
\makeatother

\pgfplotsset{compat=1.13}


\begin{document}
\maketitle


%%%%%%%%%%%%%%% Minimum phase case %%%%%%%%%%%%%%%
\section*{Minimum phase case}
\subsection*{Dynamic decoupling}
\par The dynamic decoupling in exercise 3.2.1 is
	\begin{align*}
		W(s) = \begin{bmatrix} 1 & \dfrac{-0.01336}{s+0.02572} \\ \dfrac{-0.01476}{s+0.0213} & 1 \end{bmatrix}
	\end{align*}
	
	\image{0.95}{321}{Bode diagram of $\tilde{G}(s)$ derived in exercise 3.2.1}
	\image{0.95}{324}{Simulink plots from exercise 3.2.4}

	\begin{itemize}
		\item Is the controller good?
		\par In minimum phase case, $u_{1}$ and $u_{2}$ should be paired with $y_{1}$ and $y_{2}$ respectively. From fig~\ref{fig:321}, $u_{1}$ is attenuated for $y_{2}$ (which is $\tilde{g}_{1,2}$). Same attenuation for $u_{2}$ respect to $y_{1}$ (which is $\tilde{g}_{2,1}$). So, the controller is good.
		
		\item Are the output signals coupled?
		\par From fig~\ref{fig:324} we can see the step responses of the closed-loop system and it is obvious that, $y_{1}$ is influenced by $u_{1}$ and $y_{2}$ is influenced by $u_{2}$. So the output signals are coupled.
	\end{itemize}

\subsection*{Glover-MacFarlane robust loop-shaping}
	\image{0.5}{321}{Simulink plots from exercise 3.3.4}

\par What are the similarities and differences compared to the nominal design?
	\par\dotfill\par\dotfill

	
%%%%%%%%%%%%%%% Non-minimum phase case %%%%%%%%%%%%%%%
\section*{Non-minimum phase case}
\subsection*{Dynamic decoupling}
\par The dynamic decoupling in exercise 3.2.1 is
	\begin{align*}
		W(s) = \ldots
	\end{align*}

	\image{0.5}{321}{Bode diagram of $\tilde{G}(s)$ derived in exercise 3.2.1}
	\image{0.5}{321}{Simulink plots from exercise 3.2.4}

	\begin{itemize}
		\item Is the controller good?
		\item Are the output signals coupled?
	\end{itemize}

\subsection*{Glover-MacFarlane robust loop-shaping}
	\image{0.5}{321}{Simulink plots from exercise 3.3.4}

\par What are the similarities and differences compared to the nominal design?
	\par\dotfill\par\dotfill
\end{document}