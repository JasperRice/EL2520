\documentclass[11pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
% \usepackage[demo]{graphicx}

\title{
	Computer Exercise 1\\
	EL2520 Control Theory and Practice
}
\author{
	Jiaqi Li\\
	jiaqli@kth.se\\
	960326-1711
	\and
	Sifan Jiang\\
	sifanj@kth.se\\
	961220-8232
}

\newcommand{\image}[3]{
	\begin{figure}[!ht]
		\centering
	    \includegraphics[width=#1\textwidth]{#2}
		\caption{#3}
		\label{fig:#2}
	\end{figure}
}

% My packages
\usepackage{algorithm, algorithmic, listings} % Code
\usepackage{amsmath, amstext, amssymb, amsfonts, amsthm, dsfont, cancel, gensymb, mathtools, textcomp} % Math
\usepackage{color, xcolor} % Color
\usepackage{diagbox, tabularx} % Table
\usepackage{enumerate} % List
\usepackage{epsfig, epstopdf, graphicx, multicol, multirow, palatino, pgfplots, subcaption, tikz} % Image.
\usepackage{fancybox}
\usepackage{verbatim}

\usepackage[font=footnotesize]{caption} % labelfont=bf
\usepackage[font=scriptsize]{subcaption} % labelfont=bf
\usepackage[margin=1in]{geometry}
\usepackage[hidelinks]{hyperref}
\epstopdfsetup{outdir=./Figure/Converted/}
\graphicspath{{./Figure/}}

\makeatletter
\def\input@path{{./Figure/}}
\makeatother

\pgfplotsset{compat=1.13}

\begin{document}
\maketitle


%%%%%%%%%% Suppression of disturbances %%%%%%%%%%
\section*{Suppression of disturbances}
\par The weight is
	\begin{align*}
		W_S(s) &= \frac{1}{(s+\epsilon+i\sqrt{\omega^{2}-\epsilon^{2}})(s+\epsilon-i\sqrt{\omega^{2}-\epsilon^{2}})} \\
		&= \frac{1}{(s+0.5+i\sqrt{(100\pi)^{2}-0.5^{2}})(s+0.5-i\sqrt{(100\pi)^{2}-0.5^{2}})}
	\end{align*}

	\image{1}{41}{Simulation results with system $G$, using $W_S$.}
	
	\begin{itemize}
		\item How much is the disturbance damped on the output?
		\par The rate between the disturbance amplitude and the output oscillations is $4.543\times 10^{-4}$.

		\item What amplification is required for a P-controller to get the same performance, and what are the disadvantages of such a controller?
		\par Since $|FG| \gg 1$, we have:
			\begin{align*}
				|S| &\approx |FG|^{-1} \\
				&= |FG(i 100\pi)|^{-1} \\
				&= (0.0920|F|)^{-1} \\
				&= 4.543\times 10^{-4}
			\end{align*}
		\par So, $|F|=\frac{1}{0.0920\times4.543\times 10^{-4}}=2.3926\times10^{4}$, which means the approximate amplification for a P-controller to get the same rate is $2.3926\times10^{4}$.
		\par The disadvantage of such a P-controller is that it's not feasible to get controllers with such big amplification.
	\end{itemize}


%%%%%%%%%% Robustness %%%%%%%%%%
\section*{Robustness}
\par What is the condition on $T$ to guarantee stability according to the small gain theorem, and how can it be used to choose the weight $W_T$?
\par\dotfill\par\dotfill\par

\par The weights are
	\begin{align*}
		W_S(s) &= \ldots\\
		W_T(s) &= \ldots
	\end{align*}

\par Is the small gain theorem fulfilled?
\par\dotfill\par\dotfill\par

	\image{0.8}{41}{Bode diagram showing that the small gain theorem is satisfied.}
	\image{0.8}{41}{Simulation results with system $G_0$, using $W_S$ and $W_T$.}

\par Compare the results to the previous simulation
\par\dotfill\par\dotfill\par


%%%%%%%%%% Control signal %%%%%%%%%%
\section*{Control signal}
\par The weights are
	\begin{align*}
		W_S(s) &= \ldots\\
		W_T(s) &= \ldots\\
		W_U(s) &= \ldots
	\end{align*}

	\image{0.8}{41}{Simulation results with system $G_0$, using $W_S$, $W_T$ and $W_U$.}

\par Compare the results to the previous simulations
\par\dotfill\par\dotfill\par

\end{document}